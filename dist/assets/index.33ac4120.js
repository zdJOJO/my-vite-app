import{u as y,j as e,M as c,B as g,a as V,l as T,m as h,r as N,D as L,A as w,L as A,d as C,C as I,z as F,b as v,c as R,R as z,e as b,f as O,g as $}from"./vendor.6ed81281.js";const k=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}};k();const M="modulepreload",j={},S="./",p=function(l,t){return!t||t.length===0?l():Promise.all(t.map(r=>{if(r=`${S}${r}`,r in j)return;j[r]=!0;const o=r.endsWith(".css"),i=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${i}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":M,o||(a.as="script",a.crossOrigin=""),a.href=r,document.head.appendChild(a),o)return new Promise((D,_)=>{a.addEventListener("load",D),a.addEventListener("error",_)})})).then(()=>l())};var B="./assets/logo@2x.882f94f6.png",d="C:\\projects\\my-vite-app\\src\\Layout\\NavMenu.tsx";const{SubMenu:P}=c,U=({menus:s})=>{const l=y();return e.exports.jsxDEV(c,{style:{flex:"auto"},theme:"dark",mode:"horizontal",defaultSelectedKeys:[l.pathname],children:s.map(t=>!!t.subMenus&&t.subMenus.length>0?e.exports.jsxDEV(P,{title:t.name,children:t.subMenus.map(r=>r.code==="dispatchWork.dispatchDetail"||r.code==="dispatchSetting.Warning"?null:e.exports.jsxDEV(c.Item,{children:e.exports.jsxDEV(g,{target:"_blank",rel:"noopener noreferer",type:"link",href:r.url,children:[" ",r.name]},void 0,!0,{fileName:d,lineNumber:24,columnNumber:21},globalThis)},r.url,!1,{fileName:d,lineNumber:23,columnNumber:19},globalThis))},t.id,!1,{fileName:d,lineNumber:19,columnNumber:13},globalThis):e.exports.jsxDEV(c.Item,{children:e.exports.jsxDEV(g,{target:"_blank",rel:"noopener noreferer",type:"link",href:t.url,children:t.name},void 0,!1,{fileName:d,lineNumber:36,columnNumber:13},globalThis)},t.id,!1,{fileName:d,lineNumber:35,columnNumber:11},globalThis))},void 0,!1,{fileName:d,lineNumber:15,columnNumber:5},globalThis)},q=[{url:"/dispatch/import",method:"post"},{url:"/user/currentUser",method:"get"},{url:"/dispatch/dispatchAdd",method:"get"}],x=V.create({baseURL:"http://pubtrans-ias.schedule-dev.dtwb.ibuscloud.com/schedule/v2",timeout:0,withCredentials:!0,paramsSerializer:s=>T.stringify(s)});x.interceptors.response.use(s=>{if(s.data.code&&s.data.code!=="0"&&q.findIndex(l=>l.url===s.config.url&&l.method===s.config.method)===-1)throw h.error({content:s.data.message||"\u670D\u52A1\u5668\u9519\u8BEF"}),Error(s.data.message||"\u670D\u52A1\u5668\u9519\u8BEF");return s.data},s=>{if(s.response&&s.response.status===401){const l=s.response.data,t=[];Object.keys(l||{}).forEach(r=>{const o=l[r];r!=="url"&&t.push([r,o].join("="))}),window.location.href=`${l.url}?${t.join("&")}`}else h.error("\u52A0\u8F7D\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC");throw s});const W=async()=>{try{const s=await x.get("/user/logout",{baseURL:"http://pubtrans-ias.schedule-dev.dtwb.ibuscloud.com/api"});if(s){const l=[];Object.keys(s).forEach(r=>{const o=s[r];r!=="url"&&l.push([r,o].join("="))});const t=`${s.url}?${l.join("&")}`;window.location.href=t}}catch(s){h.error(s)}},ue=async({current:s,pageSize:l})=>{const t=await x.get("/dispatch/queryDispatchPage",{params:{pageSize:l||1e3,pageNumber:s,execTime:"2021-12-09"}});return{list:t.data||[],total:t.size||0}},H="_content_1mehl_5",K="_header_1mehl_8",G="_logo_1mehl_13",J="_userInfo_1mehl_21",Q="_action_1mehl_25",X="_userName_1mehl_34",Y="_nav_1mehl_38";var f={content:H,header:K,logo:G,userInfo:J,action:Q,userName:X,nav:Y},u="C:\\projects\\my-vite-app\\src\\Layout\\UserInfo.tsx";const Z=()=>e.exports.jsxDEV(c,{children:e.exports.jsxDEV(c.Item,{onClick:()=>W(),children:[e.exports.jsxDEV(A,{style:{marginRight:"8px"}},void 0,!1,{fileName:u,lineNumber:11,columnNumber:9},globalThis),"\u9000\u51FA\u767B\u5F55"]},"logout",!0,{fileName:u,lineNumber:10,columnNumber:7},globalThis)},void 0,!1,{fileName:u,lineNumber:9,columnNumber:5},globalThis),ee=()=>{const[s,l]=N.exports.useState({name:"test"});return e.exports.jsxDEV("div",{className:f.userInfo,children:e.exports.jsxDEV(L,{overlay:e.exports.jsxDEV(Z,{},void 0,!1,{fileName:u,lineNumber:22,columnNumber:26},globalThis),children:e.exports.jsxDEV("div",{className:f.action,children:[e.exports.jsxDEV(w,{size:"small",src:"https://gw.alipayobjects.com/zos/rmsportal/BiazfanxmamNRoxxVxka.png"},void 0,!1,{fileName:u,lineNumber:24,columnNumber:11},globalThis),e.exports.jsxDEV("span",{className:f.userName,children:s.name},void 0,!1,{fileName:u,lineNumber:25,columnNumber:11},globalThis)]},void 0,!0,{fileName:u,lineNumber:23,columnNumber:9},globalThis)},void 0,!1,{fileName:u,lineNumber:22,columnNumber:7},globalThis)},void 0,!1,{fileName:u,lineNumber:21,columnNumber:5},globalThis)};var m="C:\\projects\\my-vite-app\\src\\Layout\\index.tsx";const{Header:se,Content:re}=v;C.locale("zh-cn");const oe=({children:s})=>e.exports.jsxDEV(I,{locale:F,children:e.exports.jsxDEV(v,{className:f.content,children:[e.exports.jsxDEV(se,{className:f.header,children:[e.exports.jsxDEV("div",{className:f.logo,children:e.exports.jsxDEV("a",{href:"http://workbench.usercenter-usertest.dtwb.ibuscloud.com/dashboard_index",children:e.exports.jsxDEV("img",{src:B,alt:""},void 0,!1,{fileName:m,lineNumber:29,columnNumber:15},globalThis)},void 0,!1,{fileName:m,lineNumber:28,columnNumber:13},globalThis)},void 0,!1,{fileName:m,lineNumber:27,columnNumber:11},globalThis),e.exports.jsxDEV(U,{menus:[]},void 0,!1,{fileName:m,lineNumber:34,columnNumber:11},globalThis),e.exports.jsxDEV(ee,{},void 0,!1,{fileName:m,lineNumber:37,columnNumber:11},globalThis)]},void 0,!0,{fileName:m,lineNumber:26,columnNumber:9},globalThis),e.exports.jsxDEV(re,{className:"maincontents",children:s},void 0,!1,{fileName:m,lineNumber:40,columnNumber:9},globalThis)]},void 0,!0,{fileName:m,lineNumber:25,columnNumber:7},globalThis)},void 0,!1,{fileName:m,lineNumber:24,columnNumber:5},globalThis);var n="C:\\projects\\my-vite-app\\src\\App.tsx";const te=N.exports.lazy(()=>p(()=>import("./index.9c6a257e.js"),["assets/index.9c6a257e.js","assets/index.72ca642b.css","assets/vendor.6ed81281.js","assets/vendor.798398ec.css"])),le=N.exports.lazy(()=>p(()=>import("./index.3bfcc10b.js"),["assets/index.3bfcc10b.js","assets/vendor.6ed81281.js","assets/vendor.798398ec.css"])),ie=N.exports.lazy(()=>p(()=>import("./index.5df16b89.js"),["assets/index.5df16b89.js","assets/index.9e4525a7.css","assets/vendor.6ed81281.js","assets/vendor.798398ec.css"]));function ae(){return e.exports.jsxDEV(N.exports.Suspense,{fallback:e.exports.jsxDEV("div",{children:"loading..."},void 0,!1,{fileName:n,lineNumber:12,columnNumber:25},this),children:e.exports.jsxDEV(R,{children:e.exports.jsxDEV(oe,{children:e.exports.jsxDEV(z,{children:[e.exports.jsxDEV(b,{path:"/",element:e.exports.jsxDEV(ie,{},void 0,!1,{fileName:n,lineNumber:16,columnNumber:38},this)},void 0,!1,{fileName:n,lineNumber:16,columnNumber:13},this),e.exports.jsxDEV(b,{path:"/home",element:e.exports.jsxDEV(te,{},void 0,!1,{fileName:n,lineNumber:17,columnNumber:42},this)},void 0,!1,{fileName:n,lineNumber:17,columnNumber:13},this),e.exports.jsxDEV(b,{path:"/about",element:e.exports.jsxDEV(le,{},void 0,!1,{fileName:n,lineNumber:18,columnNumber:43},this)},void 0,!1,{fileName:n,lineNumber:18,columnNumber:13},this)]},void 0,!0,{fileName:n,lineNumber:15,columnNumber:11},this)},void 0,!1,{fileName:n,lineNumber:14,columnNumber:9},this)},void 0,!1,{fileName:n,lineNumber:13,columnNumber:7},this)},void 0,!1,{fileName:n,lineNumber:12,columnNumber:5},this)}var E="C:\\projects\\my-vite-app\\src\\main.tsx";O.render(e.exports.jsxDEV($.StrictMode,{children:e.exports.jsxDEV(ae,{},void 0,!1,{fileName:E,lineNumber:8,columnNumber:5},globalThis)},void 0,!1,{fileName:E,lineNumber:7,columnNumber:3},globalThis),document.getElementById("root"));export{ue as g};
