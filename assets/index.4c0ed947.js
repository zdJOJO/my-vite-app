import{j as m,u as E,M as u,B as g,a as L,l as j,m as p,r as c,D as N,A,L as z,d as D,C as I,z as O,b as _,O as R,c as w,H as C,e as F}from"./vendor.4f4e3f71.js";const P=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}};P();const k="modulepreload",y={},S="./",d=function(n,r){return!r||r.length===0?n():Promise.all(r.map(o=>{if(o=`${S}${o}`,o in y)return;y[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${a}`))return;const i=document.createElement("link");if(i.rel=s?"stylesheet":k,s||(i.as="script",i.crossOrigin=""),i.href=o,document.head.appendChild(i),s)return new Promise((v,b)=>{i.addEventListener("load",v),i.addEventListener("error",b)})})).then(()=>n())};var B="./assets/logo@2x.882f94f6.png";const e=m.exports.jsx,h=m.exports.jsxs,M=m.exports.Fragment,{SubMenu:$}=u,T=({menus:t})=>{const n=E();return e(u,{style:{flex:"auto"},theme:"dark",mode:"horizontal",defaultSelectedKeys:[n.pathname],children:t.map(r=>!!r.subMenus&&r.subMenus.length>0?e($,{title:r.name,children:r.subMenus.map(o=>o.code==="dispatchWork.dispatchDetail"||o.code==="dispatchSetting.Warning"?null:e(u.Item,{children:h(g,{target:"_blank",rel:"noopener noreferer",type:"link",href:o.url,children:[" ",o.name]})},o.url))},r.id):e(u.Item,{children:e(g,{target:"_blank",rel:"noopener noreferer",type:"link",href:r.url,children:r.name})},r.id))})},V=[{url:"/dispatch/import",method:"post"},{url:"/user/currentUser",method:"get"},{url:"/dispatch/dispatchAdd",method:"get"}],f=L.create({baseURL:"http://pubtrans-ias.ibuscloud.com:8090/schedule/v2",timeout:0,withCredentials:!0,paramsSerializer:t=>j.stringify(t)});f.interceptors.response.use(t=>{if(t.data.code&&t.data.code!=="0"&&V.findIndex(n=>n.url===t.config.url&&n.method===t.config.method)===-1)throw p.error({content:t.data.message||"\u670D\u52A1\u5668\u9519\u8BEF",type:"error"}),Error(t.data.message||"\u670D\u52A1\u5668\u9519\u8BEF");return t.data},t=>{if(t.response&&t.response.status===401){const n=t.response.data,r=[];Object.keys(n||{}).forEach(o=>{const s=n[o];o!=="url"&&r.push([o,s].join("="))}),window.location.href=`${n.url}?${r.join("&")}`}else p.error("\u52A0\u8F7D\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC");throw t});const U=async()=>{try{const t=await f.get("/user/logout",{baseURL:"http://pubtrans-ias.ibuscloud.com:8090/api"});if(t){const n=[];Object.keys(t).forEach(o=>{const s=t[o];o!=="url"&&n.push([o,s].join("="))});const r=`${t.url}?${n.join("&")}`;window.location.href=r}}catch(t){p.error(t)}},le=async({current:t,pageSize:n})=>{const r=await f.get("/dispatch/queryDispatchPage",{params:{pageSize:n||1e3,pageNumber:t,execTime:"2021-12-09"}});return{list:r.data||[],total:r.size||0}},H="_content_1mehl_5",q="_header_1mehl_8",W="_logo_1mehl_13",K="_userInfo_1mehl_21",G="_action_1mehl_25",J="_userName_1mehl_34",Q="_nav_1mehl_38";var l={content:H,header:q,logo:W,userInfo:K,action:G,userName:J,nav:Q};const X=()=>{const[t,n]=c.exports.useState({name:"test"}),r=e(u,{items:[{key:"logout",label:h(M,{children:[e(z,{style:{marginRight:"8px"}}),"\u9000\u51FA\u767B\u5F55"]}),onClick:()=>U()}]});return e("div",{className:l.userInfo,children:e(N,{overlay:r,children:h("div",{className:l.action,children:[e(A,{size:"small",src:"https://gw.alipayobjects.com/zos/rmsportal/BiazfanxmamNRoxxVxka.png"}),e("span",{className:l.userName,children:t.name})]})})})},{Header:Y,Content:Z}=_;D.locale("zh-cn");const ee=()=>e(I,{locale:O,children:h(_,{className:l.content,children:[h(Y,{className:l.header,children:[e("div",{className:l.logo,children:e("a",{href:"http://b.ibuscloud.com",children:e("img",{src:B,alt:""})})}),e(T,{menus:[]}),e(X,{})]}),e(Z,{className:"maincontents",children:e(R,{})})]})}),te=c.exports.lazy(()=>d(()=>import("./index.382fbcdd.js"),["assets/index.382fbcdd.js","assets/index.9429154a.css","assets/vendor.4f4e3f71.js","assets/vendor.e9c05d51.css","assets/index.6de49c37.js","assets/index.c4d83310.css","assets/index.9ef7f8a6.js","assets/index.cd256673.css"])),re=c.exports.lazy(()=>d(()=>import("./index.d9461807.js"),["assets/index.d9461807.js","assets/vendor.4f4e3f71.js","assets/vendor.e9c05d51.css","assets/index.6de49c37.js","assets/index.c4d83310.css"])),oe=c.exports.lazy(()=>d(()=>import("./index.0865406a.js"),["assets/index.0865406a.js","assets/index.679350a3.css","assets/vendor.4f4e3f71.js","assets/vendor.e9c05d51.css","assets/index.6de49c37.js","assets/index.c4d83310.css","assets/index.ea8e574c.js","assets/index.a1e18bc3.css","assets/toNumber.822ad609.js"])),se=c.exports.lazy(()=>d(()=>import("./index.d6c6c151.js"),["assets/index.d6c6c151.js","assets/vendor.4f4e3f71.js","assets/vendor.e9c05d51.css","assets/toNumber.822ad609.js"])),ne=c.exports.lazy(()=>d(()=>import("./index.198d7fb2.js"),["assets/index.198d7fb2.js","assets/index.8fa1825d.css","assets/vendor.4f4e3f71.js","assets/vendor.e9c05d51.css","assets/index.ea8e574c.js","assets/index.a1e18bc3.css","assets/toNumber.822ad609.js","assets/index.6de49c37.js","assets/index.c4d83310.css","assets/index.9ef7f8a6.js","assets/index.cd256673.css"])),ae=()=>w([{path:"/",element:e(ee,{}),children:[{index:!0,element:e(te,{})},{path:"about",element:e(re,{})},{path:"dispatch",element:e(oe,{})},{path:"chart",element:e(se,{})},{path:"chat",element:e(ne,{})},{path:"*",element:e("div",{children:"404"})}]}]);function ie(){return e(c.exports.Suspense,{fallback:e("div",{children:"loading..."}),children:e(C,{children:e(ae,{})})})}const x=document.getElementById("root");x&&F(x).render(e(c.exports.StrictMode,{children:e(ie,{})}));export{M as F,h as a,le as g,e as j};
